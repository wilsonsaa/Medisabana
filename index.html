<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Bienvenido al sistema de gestión de Medisabana Ips</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #d80f82;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #d80f82;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #19939b;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Bienvenido al sistema de gestión de Medisabana Ips</p>
                        <p>Introduce la contraseña proporcionada por el administrador o Equipo tecnico </p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="template_toggle_show"
                                title="template_toggle_show"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = 
            ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
        ;
            const templateError = "template_error",
                templateToggleAltShow = "template_toggle_show",
                templateToggleAltHide = "template_toggle_hide",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"5d0d9b55556669b614f8a01d76ba082f3e023a472b2c1d1cec6b9627efe90b855230467b298b4276dab636fb4fd01d8b2609c4d64d406d2c808af50b7ecbc4e33c0a6d169ea2c06f448f36890097281333d96af989cf8d9b665e5463827c243f6f0b75e9e9b06a3f0353c58d8f7816b2f172e9e9a1ca02330b577197d415daa00978882b49528c105682828b9105300cadd9bdbbebf3a8e254b8edb97ad03091394615761cf20107d074a78455356140a4a8c3879e39595ff7b26b0c6d488385ddec4a640f672263c995186fac6320c7efbe5cafc57bcfc2eb59f095f501b14dc999b33d78e7d3a7b31acbcda4ef4d3ba53e0c8d7b510acb89713e8adff1553da1fb9ac9d93744799d89214a3f5c12d475600c37f9e45d7ce5df5344bf9f1480e8487c9f495aa7dde16ab72f52697c13891fbf16575bb966bfddb31605dc0d2d4769f98cc812df1d7e1bfb84535f4dfbf3aad62931a06a6d0d7df7355a42c521c127cec06d3e753c18f09e89292b936e369f48f7e78f6b5a541cbe79b8626da373e3a5a8699f02d124598111ed2fae82cdc1f5163a622a7b8e6f833d285eb4d48771516a4d9b6a9c9c135bdc6b3779a571907e940ee88b23719e68a2196c0475f656d9c8d25795af6583028bd3aea6107a2dab5f47d72bfd58592aa3e81ecb5c4c276a548bc33a76bd1775457a5edc8d913a95c0ee66308860ade14d6da2399fbec8d331119804a6dc8dc295b9b8aaa79c5431bbb6811502fe5deb75668b625b120df95a1d309561d1944a3b5d1c2036863c755aa5d2a030e0cf62e0e3012fcbcdacbad91e2c965a984e39058fd86e3ac41ed68cd917b255bfb594ee52d8e3aafec8391891a64da8466e4ace5f4b24ff9952101fef4c6121c5032743d69f5f7b772f5ed78e9a6f08ef69614e41ecc1d8de2f4b368a1ea2db8c57f0c338444698d2d1e3b1013d4a5c44034ea450f1b9a70525e7c8966e0febfb9138290a2d678ffd00162ed799d1e26bc9a60a69ed38db620a900d5292aa7a8b1fd5f0616982e49cc92d04584c2b20d3c82b0bd136b87453df776be20bc6cb017b443fad03c6a3aa474de911d47e324cdc621cbd17928c07956b2d49a82b1753cbc1dffba7d4520fb33c1894a1b240e8eafb8e5efe6d1754e5e0668a7fa57884c2108e99275ea13050653e7c77c078cfa94f11bbba2b5da42fd3ff8638f72af3974a5dd8dbee0d05e34cf3903d21662fe520d3309e71d5bdf7c615a44e6049b5fa2fc2be870d2759f8d684eff375fa4a941dac49f4396b4bbe825da7bd893e5876a60da13fb958de6d98cbdf29e8c4a0649253ad396d11a48457acb806d5ad302ad9c346ebe4a9cf2896b85eaffcc5cfc273b3a7e50f21c6881f3236be829e703110a9daa69f0c4719a1fce618f28e1a718cc9e988aa4ea4dfa5ec097edb47445537250da8e5d48142b68a25f82c355432de8be32ab156e5026eb3b815e2219ddb888c1582f36d98369e1b94f46a01376500333c1278133a80d66e4a0354eaa8a2b6680d39cad52486bed7a26641a58c65f33f141b0c43e857bdc0144ccb30835fe23cad400106f43330d2c5553b8ab39c06ad5bd7a72b46714157ec2aa0a94177f85b2f3fa4a50b070f8a4277fdd308435dfa27eabe4ac68999c76bdbeef2452dbc202bf87abc38e1f33456860379059cfeddc86402791d4a41569ca28522ea8b3eb984990eef95b49f732d6e09660a1aa9e4781c9f95ce2c01f0f0e5386e7c8b0838ec1640a41c8937a1e6cb792b8a150408fbec9e8a48ce0b85060e84e81d8eeed92f539dfd4e3e59700336988d67ccf7721e6618d8ab448fea44c7afa34fbd5391a0a2b39de3e2a0db07f2f77c7bda578bcd7cddc44cd7991bbe982f32a0abaf6ea4bba2ded95c6a505b1e0a3f8d98c293f809b63299b3a13e1e9cb1846aa06ab77e6bb08483a961dd61c5f1546702a2bbf003f0e05dc57d22da7b9bf97605bb41c93bf7a391bfbcd219724106352d4bd53e67187aa7b6fae91d4a4c3f47a1db2dce847224f378ae82f4cbdf9cb46192205d7794790880844093d2c2437c28ade7743967245ebfa37647ecd8a75f9d5bdf9c8f158026c97183a18c0acc525921293d74aa2ae013ab6237f359c4e8441f13eeb7b496fbe533468531cff342c4d3c210d98eaf65de761bf08db037e03c1716023a696eff359fc10114f555b89516ae9acca4b37deaa8445561af9c03ebbbaeab164f5836b373c37b2d5907b00d7fbb68dfaf50b6b2d31252d1909cae387e3257f1b6d9a55c9ee7c0b47596b54ee366862c5e4616f41b06f42cbab23433a0a5913ccb24f10056ae9c12253ec6b09ed377b6b3eb6b123b84ff8fdbdc0faa912f83767e36b216c67df586ee68dfba1375d9c8a4389f53686541f141f4566c4fb6505a1799a2bff502bda4e1cd76f2b01addd0d8efbe23d7468aa9bef1d30e6055219ee42403918a6ce0a8b7c4b4d2f0c2f2680cf534c6391d268adba8e2ff7e85f94b12ffb036a88e538aa2a26cd1b2717ae491074435e756302598981275244dbc271261e4176cf729b9b4b758dff3f08a6fb4cdbd613f3bcc4628b2a6a57d63c83afc6596190d9dd8b00b2a1656abb0216adce905be8452bc497d864d5f78fb36daa3fe1eccb52c9e1692801cd30339d8fafe873088d4d85d0afeedb9ae8a14028b539f5cd910e4c7be5971d66407ff8bab1aec08939eb58757c1211b83769ad565b3d5edae9a9c92eb481a7825410c6c3e234af9b4fad44bd1396b513154b5bde589baed701fa9a579e5920550e6237a5db149607566d713ae5b321aa6af37e104710d4797e540b4d4afbb5a8b31bb61f7cf275fd6ad14ead7c02dc20602a049bb45627aeeb4362167d93b664805c8161d5705e6fa606332cd15cc967b997ba084ebff072c60df0ea326dffaf99b191be8e1080c2dd5101d4bceb2da0e775ccf4bae2fde28456ee93d877fafadae8559df8c26c144a6ba61301115f913a39467f22da1138c32a636734c9829cfe1942cf9d8db62fa4642ae23ed92e42e4fe904410e07f38e103b582f7759d34fdf8e18ced6c19d94e216fdb0d8113bd856e9b17ddf240367dfc7a1a87502fc94589c55729dd6ffd747b0a67fda4fec93eb6027e3641f32679a9eeccd591dc6df72d078e0acb2f38f81aa173b6b166f9bd07180037167a840262b2dddba0d7574525c5470c9fb513b21f1680c95f5ed3bb657df491911ed7765952cef51d786d5b02625a2789ec180c9c468a05f79ed92a3863e678c75b44fa7c2e17c9e23724d910b86918cc75aa1932ce16fbd172edc81e9b43da6778deac5ff64a01202e27adeda33c8739c86bf9cb2cbbe796a3af4a789e7fe821f344e4fd90827fbef080e63d4e0ddc1fa625c15de12f3eee3f7de3f568a7ff95d1af97d2c5fe674f0b050c6e2c58fb1676ae53c2bcc6daebc25590563614689fed2e74027318fc3bec0b93fd565e2c46a6e42864bc4f78717e842b5aed2cd22bead4c310df0049509e1871f6793030408017ddb4c250073e5f0519fa45b5a878e6ec0ebf8c34d04c1e8f5d7ab8df203f0b10ad135a6e58fc0add2cf9fa377dba9e1afb8a180f33c7d05d1f84afbf5aa6b722e18455c19079339838a92a4316ad76f7ef468714dce23aae018d5512ce3787096ead8f12cf2bae0dadbedb44d00909a8a4bd664b485a5aa7930fe6acd8f81863ac37150cef12fae0c3bd708aaf314ebb0fb54f74cb972eead3346f041806244ea0de8c72e1d318eaa4e5a5931bc3ea5b94256363eb8919b25dd725dfce2079f6e68ebada3eed0fae4e1e74b4e3b22e7f3b9ee836e3b3eb11e5952ddfe728f7904b83e1784da2bc6aed5111522e38b882e74cb8443b987c99528e85f3a66d4e6726c16e1ae2a0079ca05fc2604bfa5ed2d31a64b18f0602e7f950f689176fa39fc3dc577f3cde33b4943f9401a3414a4d243336ab290f190e251f884238d18b6551ebb58dfcb26ace2bc21d68f0cd2a908e8c3de6618b9b7da356f26c676dcb81e74053a1a46ad0f720491293abb3d4150984fb5a2401706cb35270bebd8eee64e3a1ebcc6cbd40d74e50ad77b41dbe9751d8cd81e27f20981ee1f5f1eeb7a57c21b51fcfebc20f53df9c27ab845be47d2e6176452575707ead93599b151a1817f6f145c93c5e106b758888b30c4f5d8174d7184e61e0837c8975a13ad9b602cc41c2ce4ea99f821cfffb16d23ea8e2203b9dce1ab08c23a79ae01467fe429f01f2e5fd9f3d04f948759febb865b23111a1381804de9030d67d9a8a8c17178e290d20f9fc30c160bcef75a3330fed0d168b952492e021c2b13422c63bb078007af3df3d28da0990130b1ca4659d3d501beeaa0e20f69009ec155a7548929582aa8c236267ef75a439c52b27e795d396605485844f8035135ec7b636f236fde39fcd18e1cc3ba50811875bb488e9a5c5d2fbd832fee9c62eb806a3a4d6879e92e3193710a7ca5c15a9abaf4c4113ecb3c9e320c7e377005c0c07effe25b971f562af05ff7b8abbcc187041f8592026fbefb20336a882a332997ae9332d84f36ed2bc5ca5a0d3ed1a42c546d458f54e4e669072917557f6b34eaa74589934342eba75a44bc9ab9c4fa42db804af7c663d1fd4ee95091970d2f3941f40d727d3301fd4410480661c1380d916e5b23cc85ad9ea6232055422f20aab32ea3eca267fc2e424fc691edba3e7abba1a6fbf2075f6a5012e3207304589f516fb5905b7438c0499d6d2579dfbded1f4e3441acb3e3945428837f84410e5f50432602607dca749ae932417d9841c3d631819a44aec2024c25cd5e317b67bc6a6f284610710f97c9cadd66750c090f6d6f768f11fdd08abcef3ba4fe084f63753661585188d459cb5538f92883268d69e4cc009b8ac5c15f7e604bf64ca74da9ca2618ae1f98c37c662d6587469c1218606e12fbe7541d555e61fc80903e1c0a83b91209ba65279b0a2333dc88f07ed1989af7d9500c120d69a8977c885fd154a4fc0deb4b30cecfaaf34b1dafc76160fb45519a88c4a15f49b2ebab0885973fd60901391fcbd34f0efdc7c5df189d3fd605ef59511bff4cf2d0dbe209b8100e3ae77ab1e0bf872d2ad4237193b49092f660d93ed2552a9ab8cf61e283d499fd91ed3a0d32eedac8f3714cd8e473a0a31dc939ad9994360d49ef1006476606ef020b2af0bed96f559f1484c21221f4a25956cc7d71057a25c01cf4585df410581d8572b1c2dab3efddaf5008f4ba40f134a6131d49c37a05d532c093a9b6ef0ed290444d26aa20f69afa6db53537b6670539d4b48ca15cba7897eb6ddcdf9c1774485e6c0896196b687163470913863efad80f57a29944ca957489acf881c6aef15c6d753e2b4f7039ffed724a7777c05c4325663d0835a6651fc0ae6860bedc6e8ffa1f9ed9eef972e2ba2afbb68f4cb7c693181ca5864070d026427c798f4fe2e45c16e44a1891fb2b4aa36e48263b1013a74f28159bb705b035bdd93881f604931e691ce49ab76f702bfa2ab0df8ae45941904b0fb7fbd539e72ff3b1dacd83ba14d6018c46da964b1ba598776536ff3e2e6f3494e033ca1ef91570148870d01ba6b31c138db788c95e55cdf84f8d2d9084e48c50f3fd3194b26a842c8b871482dc9b433a8facc13c06dd5e39b1c441c3f40638bb8ace0388775274da7430a9dd8feec35f6aa38af2fee88c39e7ae691335865c1e57da9f7aea2aed1caf1e6b86acf08b0c7236161ae8782290bdf34a76a9ad589e39ff1ad339258f9f2c517d0b91b80bd53e07ae008c809092b8868809a0f7dbccea5da82e35665af2d43328940c56a510b7e3ca90ecbb16051da58cdd7dad11ee16249f2170ed88d6eca05d4f0849ed0e51e6298fc530c79dd92361d72641fe84d5059c89e2416289ba849c9da39e0b567c8614f67c55b6d95f16fbbaf40b7b5da54ee475ada12c392f64ab69ead5047ce9736f08eb24810a84b569bb921552676bf9ee1d42d676c5ba64373ad360a40ab4f38a722f0cf12c8d99bb519fc1ba99ca1b395e445a181d04e4e2f24373e1b08f9f16c607fb51724f37d3afafa39a3f0aee8ab32abbd78c8ac3d418266a5fe5b46d5ef020843e036c4bbcd6f9bf62f15dd52d677230e89a5dd4088487fb0d6505e40211b0d00ae5175de74fe4cd68f7514bce05d35bb4aa9f9c1b4f538a3b4b1a26685839e522b8dba555b557b0f4127acaf3218e2d13d5995b5a3bdfad5e7da2e6fb9c55548e29da72b368168f0f1a599fcb0a570b9b6c0c693d50f8f57b669128514194b69e1f4541884e2f8d786ec8bca5844e57be459e3ff6fef21af6fcf26e0b3677c37ff1e75b95c5089900a7586d110fbe55d28126a9959c35c57332cf4cf89c2fa0c6fa9b52bda20cf431cb24c853f7285248d5794c3eaa243799654a0b97604ea01edbac3a48cf9af2146eb1908d633751da79d32e1d01bdd5c97ffb19680cd357e8b8eadc6ce39b943f5a8e37f3d80597d890dc53a29bdd03663a6bda6421cd447ef3f245719cbf452a7949fa27ac0e6d358b8f841dd9488525ec2b01b0fa3a7886cbb2bf5f9613d68298243cd908d1e8ef8d71d2fd62a444ac1d541f9992b3a8fd50e9b66e1a0ac91eb0a4b7bca66082534edf8a7fb22ea1b8067567671cdd52bb595d94644e741dc5a03fbb3b0af05eb4cb7396d70bd9dbeacb1eb7750b5fc477d42654d2fc132f13f1146b975f8b57ceef01aede987f8b34bb857c4a311631f4a774f737aef74eed4f5e6056fc27fe9b94d9a15e8204743408264afce314f522751270c744ab086b7c42f14f004f2a8a739bcbf81fc3598598dbf4e5ac9aab0ea9fcd3a3afd5707c9a314010d08bc3d3046f7898b75e9000177429ca661a75d34bdd07b68bb7f36183ea14eb2430906f894632e432b9d66d0480559e91e7c47f61baad064ae40576ef366bb5cecb1fb9f8ecfaf24a59c4d7fff1f2956d4a48499190686822c595face386c28811177809873cbd69611f22be4b4ad008c3049fbdd0276e4208b20652996099f3accc8ea246ed78c38bc41cb22fc777b0eaec1df8d7b01d7916e341c6996d4701467800aecdefcbff146849aa74330ed052d4aa105277b76642956335c8d577bc67d3d8572025f205699422b7c38925391f50d8eacb841084b084d367f6ebfefd6628c7fe68557462ffe01d7b2a3645f34717a31df64e238fddad5d5ecca6ab28cc3e79830ac35f5bb702e4fdd11601fff08cccf3c79223bbcbc036ada87f41eff2b45e9ad67d6075711c2c36f3e567435d22015c8e73efedfd294bd7a93f1cbb01d9b81ddd11f24ade3d836327cf607e9c5830ab919fb8d07e08ab15878df544fdd081a8b7f89e695d090090afc5b4f3101a71c5699e731c159a953abbf099c4be956d31f46490ea87dd37ef5a10eca434214a084d2dc0c4c9e3a9768a39c357ade8508099c33e10bca4ac8cab7f2047cdbdf5bcc1c3f132f4a514a84f0fff020cc86bf31bf1a244a264b3af0023f57271c726593272c3a6d0507b6f67d3d996c84c3f8f97de4b90ec648f1cb9cef1165d12566e3faa722a955111b6f6cf16b35aab81a4981fb4904993fa4debbd09c775d1b11c3a6f1ed846908bc01e0041b4fd58b812d851501bbde86e2bf9745f8b4813df3f092677db6d08e33ef61dbf8925a85aed01f4cc60b3d66bdc8f7b441fdb52fec2e76a23ed87fc7295446928b9002b629e3e0287246a7b9e121b3e3f9095cf3889acfd212e80cb358b35a1f5df42f1ce441c3ced6c417fdf70f735a6ca86d56126566b4b9087db3a1f968c6be7c25da8c7944097fbe20c2c33a13389b7d5df49ee4ab3c516bc4b787f45ee2b45f271d23aac3817a2b3c4c9deccefa12c38cfd8a1bae9b426b316ba64b38bdd5259c8cd74828d429283df560276dcb78a38375f24f95f22604fedac775f6f37eda5bb778f0b5a9db88ed230a31edadea58e17497b2dcd4a610718851ffd54c4519d9df8f381360d4100dc76bd03a16da80e550921716df129eea88e10eec246ade77cf441f97d34ca8e50c7da96979fa282d780585bbd3049d0d6326a9839857334f87692f9e52fb3e67a116b2ee93b93e75f7c23b198f078bdf6b3d2c65d0f769cf3f11918ea43d02d3ec8e78138a700caf62d50267b80b4e31e6e5a5358dd275bde823c30f6012ae5d3fc51053c271e707dc6880ade5663385cf1e2c22209874217536948bf754eb71772e75a3fcb4c530f886fa9b28edca30a428084586c7d25868ddc7c440c751898801430db92980b1c119060e65caede69ca81f23b119476ade06744cf8382710ddeabff0e566050c461a34bb5842e6d32bda6fe908d502be4055fb44d2424ba41c8fff21cc9d2fbb7b9836c7ffdd2c820212b1864992ad986dfbcdc2411dc65a15d5fe1824e37e13f62db666882c70924dffe671d06d59c6e923297e82e984a712612613773118b97b21520245c6ccc47187269ede1be7b522a4230a84075bc59be51652d257b5eebce142447e76739a2eee255f659777483ead33c38cc17f674713c8e37a2e30aa53c613407bb5766ca9e809eeeae80af57d36ef8b8f1a5d57a7ed002bd24005b77c279e16c7a4c1749d5407af173b0188cdd6647eb4bf7cfe4969511606c65a70fcccd0350b08c60c777eff63e9b53d1dc944de02aead5d0c796038a77e24419065328e1b345199450ed2953072187028d2cda66c58c9b5f64eeafd1aa77da80b96898a3a4a7554ae214f8354945c3300caf8bbe7cb536b6b2941cab4c2271a010d96104c3890edc0d0ab483221ea450b15fcf7533f9117ae2457238b2a23c883e0f3f2145c8a19a72fa0158c101350f826b831e2b0fe6c09ce353c81359c7fbcd697fd38c72b063fcfe978403eeee8c185bfa026ca50401b8a494b6b2537f06f148063e79ea2c14ed1d46905ea239c24855e631030776afe42b4d111f799f617b4e3e07c88ba8a27c523444b8dc7f7e2662c8eeca08e5af4c3cf195c0345e3d541c766bba3c60a2936ba0e1dcb312bdf5463f821d86370da7e8bea3ccf8c8868d626f53192eb58ddd0f6d38268a55934851e5bbebd48412fd13c2c9c0cd2bfb6352af3807a879b3553fd308f1604d692695db10145ca0d50477ff5dfa56e4106925847f1dbd758745c05288742961a4e09944fa44d6aeebcbea74cbe42a388023749fdcc309ec37f8e013d56910d90b39c58926b0ae3b73e47118004dbf5ee99dcefc0a2c76e4b12513c5201439152362fa44ab2da81ab9b3eb372aeb629c6f1dfbba3928fd7ccac3057c6facf17b7d339bd6cfb03b4b738e03c958356c97bf270aa79f547148fc4dd5ccc3d24e66d87ac3659983527b2b92522afc2ef7fede918612ae87d413316b79f8dc1446acebe2740f854a1f576dbd6d1efba99afaf51161b33e1f84fdeac30ae89594ee39757bd91684126616ec5ccd56393e9939906ca2ae9021bb9fde7bd2567865cdc478690c05f5e492aa23ac09e7481eee56ce756328463212a8c14629d54a52556265534544b840ddb63cba35079f19355a4e37e5cc5f46cd1e46c593dc5c7fe16308a30ed31b4acb781d48caf8afad2790796af26b4011b3f31dabaf4d8a58448d353593b32375ca2b82385c84ec4b8f09943396356aed06b2fde2159ea381c8a57b55beb1b6e1b0738507dc77ca692d94afc3c583d3da61121e57ad3e96fbea1a1040ba1edea26408089d652ea0a8f6a2dba70a73482359a9927008ae12feeeb635434485127c64d0f25621218012140346fca6d3caa5dc2f5be2169ab55de4f6a50117048cbc8a269b276b088722671053b6603dfb17718be45af8de06025362fd6f130cde8147d7ad675944aa6cfaac5846f74cc9e84c753bfff553a15f3c9f91e0603c4a8a86b3ec34536fda55dc74e2c74ca3d5b52646b5d058d2438fbcf11856549ad9c846311aadc14c378146f8f519ddb0705213e43215bbaddda73671e0980a9047857744895311f49796ffc229cb784497f2b1ceb70dc5aee9ffc2f748a9b5452a0bf0b7466938cbf72d1f42794ab503e0855f63342cb928b6484575216dd21c7bbfd42d4df19ce40ec36f66beaedcf014e63534b8244e7a10f8360e8c958a2c85aff920ccd7cda16a48773e3e22918bf249883668628355026ec2ddf9d19fcfb48c843415d9f40f98b0e44a05c99f1d3f3699f96cc006bfb93fc304db10dad7680eee700de72418d8c7fc3040dd5ecfbbeb6e651f164a32d40246956bf84913078748ddf08491b85c924c0adc0f4ed257ed678f5aede949822a5972910d5bcf04c44f9b78abbe625d9fa6a56b67d05d972bb0b73d8007146dad8a12919c6bf52259e76eb19fd91aa4a2ea5f124df67aec9812cdc5eb444fbd50532787c1aad5c739b471ae9a870910b930a53de04edf106f2e2ce3157b8b743f4992d3fea748def9cb257878b2beb66f6c34422d4400f8fde6551f24893accb7e6623b4d10d935b157e1275638b2dd88fbf8bc2c6b4798dde27aeae40ad186060a8bd162cb5dfc3f34eed7c75009b744e582f5c27af6517218e15503dbe6481b3c5f2d5b3d2c8c2a3ae692c002ea433b319ec95830067f6395dc769acfe2733520834e4b65230804154d675c3d26f1e7a5b12125c05f5d0c548322c65ff7e3096a9d8cd3785816ffdf837b852ae9bea021bf3f0b62cc8321973c73d691131fda0ac9e38d766a07fe539b08a845600c4a7d75832c6337138ce0ab034bd15a321efe1169e97dfb05f04a5f09e3e4796562bf5bd907f312fe67d20085603daeacb485dabc262d1c19a91b07e632fd2058fcdc5c7c1c2f040314d62bfe10dc38ee48a0d78abbafe82c2a938041df4f11796229b5d96e37fed8cc24921ef8ecfae9c405cf276584404488a29b91c972ef57f0860330db104de3d5c7258408f639c34983fb118a9d18af5664646348d294dd2fa625aa00b70871cf2d566404ec8f09b8973eeefef4895e35a0f6435f69c6c1ca65f0cd5aac96e3a5f5f979be62fe8346f59c26194794fa06cf723612f6ab4f387139c61c95976ad33955495ccb29c275c17f0e4c25530cd7c6f745acadf975aa27d882f320097f18d5ab75a5ebd4077652af78d3971299cd4d30dd2bca5ecd08288c9a1e5d787f5cae20b85c3105a47cef81a0c8e195c6fde049d6fba35bf6dcd00cc36ecad39bdad9c11ac170a16d80397d7cca23b8e7c6120bfdcfd36bdea25b87ea0d3ff5f6869793f2894ac9aaebe74741b3a451532ee3e48c7a35431adcdee8e0fb65ec125d710a6034f00289d2edc4eb9ac7c42a482a57e14dc85cbdaf8add413489f8e8ff6573e8adbfe4935b4aea7b57dc82e7728dadb92abdcc7bd212c35f79479f822608e59b186234abc5cb0d69ee7a9a2e02db0d42695f13311e45d754a89cde1abbf6ed69b579d28d6c17ff4c931d5d6175f27f523d5a4aea322b33b96d28d110060ddb3b65d6bf8ea7bfc38cad411b407a7270f792dc7db6d7ca241ede02005eedf1b5667b0d722da2a9202d698c08658b5487242563c700632122d82a5ce2359e38b14e4215e6c7c9d6bc886b3a3d13e8f800f3e98b5a4a7b55a5116625e30059b96fb47857d390dfb4da382d9619c67b99b38af80d1058abbe50f19afd4e69bdfefea32a508e25fbfdd0b6598451054b4e21bf5e94f3fc32cfe863c019d691cc1604f45f8568ebf1d54be37850818a44d1adb1d37e9ca9ad17566fcb30f1364dbf03ab666b34950060a630a822bef6c604e7a4d4ee2f35ea2a6d68fe8e17186245337a7de661972e983c0a5b4007ca63bc2e78db525b069e8e8eb97ebaf1ac2f4f8394dedef69c891984f9a46079221accd51f6e1be8d72595faca882d36ae1437c1dd0b934bff5d067ab3c59626ffa8269ce48576546a27634aa73cf84b9a0d9cbb9196274972780612038b2dcf771ee9dce98432ee90793da68719e668b2a14f08ebd7c50fd8015017928b9e6b08251038b0be69d4470e9cf68d3927b016cdd66d9d215d87d35d8f975727dc95e5c5e6031e061ca98bac319b890763c5fe2476831445ceda324e86593ad661497161e1d33d19f8e2344e6a2dbb66cb2dde20e27a44d6c05455fa6437f857e435bc0004b588c05af1bc566648db9a8135cc934135eee083ac5951e10bdcb2fb22a23fab6f2639736c2919dc59728a70f21c5157e7a4208118ddb2fc07149809aa8f221cf8463bb58b744d5f94d2024a779d72d63887beb354d0a4c0a9db3d5e4acfe389f2957b8d39fffec3a3b3d0d280d9ad8a425d4cd7b23a08615671bdfb0000884a09b3ae88908ee401f7872dee27f119928eb71cd517f8a99bf473f2b8d49faf6aa750ef50c804efce93b0e09fb207ff4118c194757b640ec2eb14c7c629d99fb8712ad8f1990d1b54bfba8b15b5c73c769fa201457bfa8ae13dcdac1752eff4f6276a5cae3bdb87177601a597dc75eb8538a9c899b5ecbeefc78b5349b728d9331268a65b65c4a6ae676e92759c8d29b83ca7abc9e1762793cb2ce48f5a675aa86ca5cd59709e6bccd61895818bc8aa589f6cb04eeec4e0c14c7c16281a9b0797034925bf4531f95e8d8d93e5e747f0d280580e52368156035a0369349ef51b73197851070bb48b1b2f25f9cc2f2253c82758b408b05f6a2ac3e080bfb5acbd077cbd44d938624b0974716a333f17971ac46a59a436cf86b5c2327f1d41b0b27cda59bd05997a1c3b916104895addfa2cb50cce07751052896240dee2f68881955e63c28e4178c2313a6f6056d1301a422649ea36edb1092be06eae401e7d619ee2f3be960350a240578b111d098056777aa67ecccd09075f5eceb08d1d9f08ea5ee58253a39f6faed492b63ab8182fe33256365b4c18bb971ef890660be3d0b2fb81287511dcb209b60e42931271da3d3fbbb646e85f1992cca27713ac649da5bf27bc1e66106e23caa86d072ec20bf8783a58a15e8718b13d0982b55d0df1192c011b4cc604b135923fcdcbd3cb58dbda1e8b26a41e538d81e6acda303c185aa39fdafc634195b63f5867b509357cde61d7ca0510ba3ac1fa1a887d37d9ab0cd93129a5a823569ef215a46947457be550a10689940ab0867dded79f5d20f1b6472e3b2ffe426a5082306d28902f7fedeae90e619a7931b6dae2e903b8a5bc56148721e7cce428cbdaa64fb0546b48a8013244416207260422de78c3127ad76535f273b3ecda7b92ae22e785b9e0cb7b45fa8571418479cc26b1489ca33b3c60dc1d5cc0f8dbe610f55e26648d9d4f3e73789ffa5ed679fbfdc3401660810bb9ddbbd966828b46f933ad12ba77fa510dc47ce9002d3bc9d7f085092baeef5c20513bfe84b13ea5ac9cda8b9cec6a02b6daee8a6003adb7d160bf50f2b22bcc567e2df8383d0611edefb5c856b959fb6eda6ab16bed1ed4c070c0b73f623198bb759f4f26bf90050e04b1af00bb24f3970ef52a10c909a0d46df2a48574d3c3be43aa9d67165546c287952cf78ddd267b03ba92886fb793821163eaae3e7a3e2f63b91dc8d7796896e490f1330faccfdb657c81c4f5adeb696872c678b4c8c4597bf72988c849e5d9487278ffa83dc097a72ab17ad65510e517670a3db2bf659893f845e9e9e6649abee2144236412defea135569b47962c0f67b8790f5f399e7d3d7c7756ff37fc3d1289787cab97bf2089e22845ad027c19fabfab631b394a7b08f010dfe1cf46af877983bc776b82f68b2924223bf60a715808ace47b593fdf142264138ca8262b4ddd591919cffa10f8c5794b73a347aaa822392340f011b05328d732ce47576b3d88aa0a5381ad95265d6bd13663d06053f1355b375fcbc81dc18da7c1bbfbc70800356d47e8eca89a10c664f43ba368171868ca6a64e18b30bd5ce33a279609919776f9f2cb70b5855b727ff05dbdf4d42666e1b4261249595d09760ebbc5fcf338b8b10b347d8a7c0ebb9db7912014775ce4080954a67b611d2644c7ccc85f248dc801b8849b817de2cf858dd03077dba9e52a52bb955b3153cddf5eb6dd95c6acfc0853079576d5ae117d29bdafd65c7ad81d75e4682acae0338c597a07f37df4574e81f54ed895d39b5309405cfb186c49e91a2b8a353feef89299348970defd30650dc4313bfeef80e19bcf4ab3d24c1f059e1988c512b683fb61368a1ae234c136b33d1df6a9bbe198be3e20627bd03e34753d3ef161a99189fac09366d655e7eb906b145ab42811dbe2f2e10e5cc2f5ba156e41de9a287a2ebec0194b6f1ee1f544fc5308a3996be2ccf059416f7c53299fa9f81672f6e0b1261bee2b1cb46a8c37b4454621fa64b85218e1fb80474c264cb97853d4a66a74571df7f86c4a3750bd14c8357040308a498cac85acf6032d55d5e0760e97e6b06b0c272c8e872092895a5b02c894112d2590d9310ed663de356c2d39970ac3e5909fb1c84536d206836d9098cae47be79e8df393970669ef7616513900ddd605ae95532db17c4157c6fc0b55abbc5f66790fd45b41c0317718dc567b2dbe6d8a8d15a06d40d2ea2f567ef5712e18c9d66f165894012be83fe65532faae91ab8c71c91cc5a76138ff298ef8856325592f951e4677ba52f033f5bb09f6037eb6004e56f1090b262974cafcec542f716f7f5affe2f06c11a0066588a94044c837abd20cccae021d4b2c23d147bb37f4e23ad3781bdbeca67439bc9d6aa31f0b1cc89849a60a55ffb321ebcdb501a498cc5b159de8d6fc3858c6ad97211d95e403b31bca5d4dad83b40e99b92c549d771acecab607611a3b946427d0acafdbfb97b61c1fe84fbcc159e0f1cc32b41adc92e530e14601442da946db8c4a6a3efd87392999fd7042c844e9b2f91b1f92528da5264b1a2f98b7de7bce2395e5d591406c804d5c89ec65edd5942e727d7614f3c30dffd02100c928e0845985c2836ef21d62b498831053d2e96d75119960541372cf7a2224f376b08671c9ac0eb429c81ac4edc4fbdd6752ead00c47e53ca3490c4c9c242bcc2409f5987d8569d78b072999570817d1ed032b247b2ae17de41d6d32674863455316255f79c7585c0f2decad6202286655ea68512ba91ca61c232b57dc00d098b0be22fdd3d89ce070d68caab679571c929f0dc68db791516371507898788771008474c75b33cb652ceba1b4866d5241b8ee436d71992b151b57e8c90d095d476027da72429103b35f1b5dbe7a90d856c77d291329b4ce3098a9891425cd80a075aaf92a78c16ecfedde0194f169e86f247b5f3ad3c678f794245fc3957448c0e4c4fecbd1f8192e0f150a33f4935d6d678a223c5f8a750c778923a91e92d6aebd924061f63afea1fd66b77b38e073ad0f721123bb0d8599b2e42ace2ee06b988aadcb8def57f67314b018db7337b91ce2de622f7e531811b313a2b770e10b6ba2fb45c01fcbcae4a5d96a6e1909629f5cf7f0ae197bd2203498c268e0ef26e8fb651c699c7c4d3eccbf8efd4d6c5807edbf05d6d247810e58528d06b7ea9e9c12a24be8101e6eb3a8f0ed649c6ee9d5b76a8a086d5334b79cde9dde9c9d1035290e90b0d84e917fb09a9844e983336386ca8b7d830e36852fab8a412e784a157ac1b342120a125978ebf2744242418b52a696185af6df925ec5b2641e43002a0e2ee29e76b1778c68706fcabe1da108ea1cbb33494bfb56aec0bd02cd43932d5794b1b53255a1cd934b781e30c4cd3191ffc14ef085387543a7102cd9c339fdd8fbc7d77c88ed9696c40cfc0c9287c87720c7148d6737280627bc88d0decd00cc004b18d46c033ee53a02c97c8b98ad74eb86861979ad512af84cac225aa5142316ddfc9cdd4a409103486e4bbf97039d624c24f43be26741f45b1640fbdec0a397a2774420c509ce955a3add7859f2b805e0e71f22f0102f0323cca5df499bd743679193ed4aab304cd91850de76054eb7edd707d33141f8f81a140f487e482159e726030974cff443ca397c498d500b8c042a3967561046fb42706cfc75d6c4d240f8b7f6990fe4fabbb2ae4aa97626eb44d3af8b2b20cf394c6cc4da59f60797276952f8e5b3dcfa8c439adaffaca051acf5544e03ee117f34","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"619f53461f2508305bb08f173c410fa0"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9cd1f6444b0ecc79',t:'MTc3MDk2MDkyMg=='};var a=document.createElement('script');a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
